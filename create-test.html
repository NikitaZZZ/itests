<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
   	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">    <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <link rel="stylesheet" href="css/style.css">
      <link rel="icon" href="img/pizap.png">
      <title>ITests - Создать вопрос</title>
   </head>
   <body>
      <nav class="navbar navbar-light bg-light mb-3">
         <div class="container-fluid">
            <a class="navbar-brand" href="#">
               <img src="img/pizap.png" width="30" height="30" class="d-inline-block align-top">
               Infinity Tests - Создание теста
           </a>
           <div class="d-flex justify-content-center">
               <button class="btn btn-outline-danger" id="back" onclick="location.href='index.html'">Назад</button>
           </div>
         </div>
     </nav>

      <div class="container-fluid justify-content-center" id="create_test">
         <ul class="nav nav-pills mb-3 d-flex justify-content-center" id="pills-tab" role="tablist">
            <a class="nav-link mt-2" id="plus-question-icon" data-bs-toggle="collapse" href="#pills-plus">Создать вопрос</a>
            <button class="btn btn-outline-success ml-3 mt-2" data-bs-toggle="collapse" href="#pills-create">Создать тест</button>
            <button class="btn btn-outline-primary ml-3 mt-2" data-bs-toggle="modal" data-bs-target="#chooseKlassGeneralTests">Готовые тесты</button>
         </ul>

         <div class="container-fluid" id="questions"></div>

         <div class="collapse" id="pills-plus">
            <div class="tab-pane d-flex justify-content-center" role="tabpanel" aria-labelledby="pills-plus-tab">
              <div class="form" id="create-question">
                  <div class="form-group row">
                     <h3>Вопрос</h3>
                     <div class="col-sm-10">
                        <input type="text" placeholder="Текст вопроса" class="form-control" id="input_question">
                     </div>
                  </div>
                  <fieldset class="form-group">
                     <div class="row">
                        <legend class="col-form-label col-sm-2 pt-0">Варианты ответа</legend>
                        <div class="col-sm-10">
                           <div class="form-check">
                              <input class="form-check-input" type="radio" name="gridRadios" id="option_radio1" value="option1">
                              <input type="text" placeholder="Первый вариант ответа" class="form-control" id="inputText1">
                              <br>
                           </div>
                           <div class="form-check">
                              <input class="form-check-input" type="radio" name="gridRadios" id="option_radio2" value="option1">
                              <input type="text" placeholder="Второй вариант ответа" class="form-control" id="inputText2">
                              <br>
                           </div>
                           <div class="form-check">
                              <input class="form-check-input" type="radio" name="gridRadios" id="option_radio3" value="option1">
                              <input type="text" placeholder="Третий вариант ответа" class="form-control" id="inputText3">
                              <br>
                           </div>
                           <div class="form-check">
                              <input class="form-check-input" type="radio" name="gridRadios" id="option_radio4" value="option1">
                              <input type="text" placeholder="Четвертый вариант ответа" class="form-control" id="inputText4">
                              <br>
                           </div>
                        </div>
                        <legend class="col-form-label col-sm-2 pt-0">Изображение: </legend>
                        <div class="col-sm-10">
                           <div class="form">
                              <div class="form-group">
                                 <input type="file" id="files" />
                                 <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="checkbox_file">
                                    <label class="custom-control-label" id="checkbox_file_label" for="checkbox_file">Без изображения</label>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </fieldset>
                  <div class="form-group row">
                     <div class="col-sm-10">
                        <button type="submit" class="btn btn-outline-success" onclick="create_question()">Создать вопрос</button>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <div class="collapse" id="pills-create">
         <div class="container-fluid">
            <label class="my-1 mr-2 d-flex justify-content-center" for="school">Школа</label>
            <input type="number" placeholder="Номер школы" class="form-control w-25 m-auto" id="school">
   
            <label class="my-1 mr-2 mt-2 d-flex justify-content-center" for="klass">Класс</label>
            <input type="text" placeholder="Класс (с буквой)" class="form-control w-25 m-auto" id="klass">
   
            <label class="my-1 mr-2 mt-2 d-flex justify-content-center" for="subject">Предмет</label>
            <div class="w-25" style="margin: 0 auto;">
               <select class="custom-select my-1 mr-sm-2" id="subject">
                  <option>Алгебра</option>
                  <option>Математика</option>
                  <option>Английский язык</option>
                  <option>Биология</option>
                  <option>Окружающий мир</option>
                  <option>География</option>
                  <option>Геометрия</option>
                  <option>История</option>
                  <option>Литература</option>
                  <option>Физика</option>
                  <option>Химия</option>
                  <option>Русский язык</option>
                  <option>ОБЖ</option>
                  <option>Физическая культура</option>
                  <option>Технология</option>
                  <option>Обществознание</option>
                  <option>Информатика</option>
               </select>
            </div>
            <label for="theme" class="my-1 mr-2 mt-2 d-flex justify-content-center">Тема</label>
            <input type="text" placeholder="Тема вопроса" class="form-control w-25 m-auto" id="theme">
         </div>

         <div class="d-flex justify-content-center custom-control mt-2 custom-checkbox">
            <input type="checkbox" placeholder="Таймер на тест" class="custom-control-input" id="timerNeed" onchange="timerTest(this)">
            <label for="timerNeed" class="custom-control-label">Таймер на тест</label>
         </div>
   
         <div id="inputTimerDiv"></div>
   
         <footer class="d-flex justify-content-center mb-2">
           <button type="button" class="btn btn-success" id="create-test-btn" onclick="checkFieldsTest()">Создать тест</button>
         </footer>
      </div>

      <div class="modal" id="chooseKlassGeneralTests">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <div class="btn-group-vertical">
                     <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#testsKlass5" aria-expanded="false" aria-controls="collapseExample">
                        5 Класс
                     </button>
                     <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#testsKlass6" aria-expanded="false" aria-controls="collapseExample">
                        6 Класс
                     </button>
                     <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#testsKlass7" aria-expanded="false" aria-controls="collapseExample">
                        7 Класс
                     </button>
                     <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#testsKlass8" aria-expanded="false" aria-controls="collapseExample">
                        8 Класс
                     </button>
                     <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#testsKlass9" aria-expanded="false" aria-controls="collapseExample">
                        9 Класс
                     </button>
                     <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#testsKlass10" aria-expanded="false" aria-controls="collapseExample">
                        10 Класс
                     </button>
                     <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#testsKlass11" aria-expanded="false" aria-controls="collapseExample">
                        11 Класс
                     </button>
                  </div>
         
                  <div class="collapse" id="testsKlass5"></div>
                  <div class="collapse" id="testsKlass6"></div>
                  <div class="collapse" id="testsKlass7"></div>
                  <div class="collapse" id="testsKlass8"></div>
                  <div class="collapse" id="testsKlass9"></div>
                  <div class="collapse" id="testsKlass10"></div>
                  <div class="collapse" id="testsKlass11"></div>
               </div>
            </div>
         </div>
      </div>

      <script>
         const inputTimer = document.getElementById('inputTimerDiv');

         function timerTest(elem) {
            if (elem.checked) {
               inputTimer.className = 'd-flex mt-2 justify-content-center form-group';
               inputTimer.innerHTML = `
                  <div class="d-flex mb-0 justify-content-center form-group">
                     <input type="text" class="w-25 ml-2 text-center" placeholder="Минуты" id="timerMinutes">
                     <input type="text" class="w-25 ml-2 text-center" placeholder="Секунды" id="timerSeconds">
                  </div>
               `;
            } else {
               inputTimer.className = '';
               inputTimer.innerHTML = ``;
            }
         }

         function rangeValue(value) {
            const Toast = Swal.mixin({
               toast: true,
               position: 'top-end',
               showConfirmButton: false,
               timer: 3000,
               timerProgressBar: true,

               onOpen: (toast) => {
                  toast.addEventListener('mouseenter', Swal.stopTimer);
                  toast.addEventListener('mouseleave', Swal.resumeTimer);
               },
            });

            Toast.fire({
               icon: 'info',
               title: `${value} секунд`,
            });
         }
      </script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-analytics.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-database.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-storage.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-firestore.js"></script>
      <script src="js/main.js"></script>
      <script src="js/create_test.js"></script>
      <script>generalTests();</script>
   </body>
</html>
